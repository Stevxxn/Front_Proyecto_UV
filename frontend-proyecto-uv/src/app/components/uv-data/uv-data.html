<div class="uv-container">
    <!-- Tarjeta principal estilo Google -->
    <div class="uv-current-card" [style.background]="getUVBackground()">
      <div class="uv-current-content">
        <h2>Índice UV Actual</h2>
        <div class="uv-value">{{ currentUV?.value || '--' }}</div>
        <div class="uv-risk-level">{{ currentUV?.riskLevel || 'Cargando...' }}</div>
        <div class="uv-recommendation">{{ currentUV?.recommendation || '' }}</div>
      </div>
    </div>

    <!-- Gráfico de líneas interactivo -->
    <div class="uv-chart-container">
      <ngx-charts-line-chart
        [scheme]="colorScheme"
        [results]="uvChartData"
        [xAxis]="chartOptions.showXAxis"
        [yAxis]="chartOptions.showYAxis"
        [xAxisLabel]="chartOptions.xAxisLabel"
        [yAxisLabel]="chartOptions.yAxisLabel"
        [autoScale]="chartOptions.autoScale"
        [animations]="chartOptions.animations"
        (select)="setCurrentUVFromChart($event)">
        
        <ng-template #tooltipTemplate let-model="model">
          <div class="uv-tooltip">
            <div>Fecha: {{ model.name | date:'shortTime' }}</div>
            <div>UV: {{ model.value }}</div>
            <div>Nivel: {{ model.extra.riskLevel }}</div>
          </div>
        </ng-template>
      </ngx-charts-line-chart>
    </div>

    <!-- Leyenda de colores -->
    <div class="uv-legend">
      <div class="uv-legend-item" *ngFor="let level of uvLevels">
        <span class="uv-legend-color" [style.background]="level.color"></span>
        <span>{{ level.name }} ({{ level.range }})</span>
      </div>
    </div>
  </div>